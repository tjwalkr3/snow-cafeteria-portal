@page "/location-station"
@using Cafeteria.Management.Components.Pages.LocationAndStation.Location
@using Cafeteria.Management.Components.Pages.LocationAndStation.Station
@rendermode InteractiveServer

<h1>Locations and Stations</h1>

<p>Manage locations/stations here.</p>

<button @onclick="ViewModel.OpenCreateLocationModal">Create Location</button>

<CreateOrEditLocation />
<CreateOrEditStation />

@if (!ViewModel.Locations.Any())
{
    <p>No locations found.</p>
}
else
{
    @foreach (var location in ViewModel.Locations)
    {
        <LocationCollapsible 
            Location="location" 
            IsExpanded="@(ViewModel.ExpandedLocationId == location.Id)" 
            OnToggle="@(() => ViewModel.ToggleLocation(location.Id))" 
            OnEdit="@(() => ViewModel.EditLocation(location))" 
            OnDelete="@(() => ViewModel.DeleteLocation(location.Id))" />

    }
}